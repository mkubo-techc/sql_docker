# 教材用ECサイト

専門学生向けの教材として作成されたシンプルなECサイトです。PHP、SQLite、HTML/CSSを使用して基本的なECサイトの機能を実装しています。

## 機能

- ユーザー登録・ログイン機能
- 商品一覧表示
- カート機能（追加・更新・削除）
- セッション管理

## 技術スタック

- フロントエンド: HTML/CSS
- バックエンド: PHP
- データベース: MySQL

## セットアップ方法

### 必要条件
- Docker Desctop

`ec-site-educational`配下で以下のコマンドを実行

```
git clone https://github.com/mkubo-techc/sql_docker.git
```

```
cd sql_docker
```

```
docker-compose up -d
```

### ECサイトが見れるか確認
http://localhost/index.php

### PHPmyadminがみれるか確認
http://localhost:3001


## ローカルにソースがある場合
```
cd 【ソースのrootディレクトリ】
```

```
docker-compose up -d
```


## データベース設計

このプロジェクトでは以下のテーブルを使用しています：

- `users`: ユーザー情報を管理
- `products`: 商品情報を管理
- `carts`: ユーザーのカート情報を管理
- `sessions`: セッション情報を管理（オプション）

## SQL操作

このプロジェクトでは以下のSQL操作を学ぶことができます：

- SELECT: 商品一覧の取得、ユーザー情報の取得など
- INSERT: ユーザー登録、カートへの商品追加など
- UPDATE: カート内の商品数量の更新など
- DELETE: カートからの商品削除など
- JOIN: カート表示時の商品情報の結合など

## セッション管理

ユーザーのログイン状態を管理するためのセッション処理を実装しています。

## セキュリティ対策

- パスワードハッシュ化
- SQLインジェクション対策（プリペアドステートメント）
- XSS対策（htmlspecialchars）

## ファイル構成

- `db_setup.php`: データベース接続設定
- `init_db.php`: データベース初期化スクリプト
- `session_manager.php`: セッション管理機能
- `header.php`: 共通ヘッダー
- `footer.php`: 共通フッター
- `styles.css`: スタイルシート
- `index.php`: 商品一覧ページ
- `login.php`: ログインページ
- `logout.php`: ログアウト処理
- `register.php`: ユーザー登録ページ
- `cart.php`: カートページ
- `cart_actions.php`: カート操作処理

## 拡張アイデア

学習を深めるために、以下の機能を追加してみることをお勧めします：

1. 商品検索機能
2. 商品カテゴリ機能
3. 注文履歴機能
4. 管理者ページ（商品追加・編集・削除）
5. 画像アップロード機能
6. ページネーション
7. レスポンシブデザインの改善

## 注意事項

このプロジェクトは教育目的で作成されており、実際の商用利用には適していません。セキュリティや機能面でさらなる改善が必要です。
